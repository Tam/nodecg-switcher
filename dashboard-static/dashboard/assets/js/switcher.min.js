!function(e){"use strict";var t={el:document.getElementById("scenes"),clear:function(){this.el.innerHTML=""},append:function(e){this.el.appendChild(e)}},n={get:function(e,t,n){var r=new XMLHttpRequest;r.onload=function(){r.status>=200&&r.status<400&&(t?t(r.responseText):n&&n())},r.onerror=n,r.open("GET",e,!0),r.send()},parseXML:function(t){function n(e){var t={};if(e.childElementCount)for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r],a=i.nodeName;t.hasOwnProperty(a)&&(a=a+"_"+r),t[a]=n(i)}else e.innerHTML&&(t.text=e.innerHTML);if(e.attributes&&e.attributes.length)for(var o in e.attributes)if(e.attributes.hasOwnProperty(o)){var s=e.attributes[o].nodeName,c=o;t.hasOwnProperty(s)&&(s+="_attr"),t[s]=e.attributes[c].value}return t}var r=(new e.DOMParser).parseFromString(t,"text/xml").documentElement;return n(r)},addPlaceholders:function(e){for(var n=4*Math.ceil(e/4)%e,r=document.createElement("span"),i=0;n>i;i++)t.append(r.cloneNode(!1))}},r={scenes:{},apiUrl:"127.0.0.1:8088",api:function(e,t,i){var a="";if(e&&e!=={}){for(var o in e)e.hasOwnProperty(o)&&(""!==a&&(a+="&"),a+=o+"="+encodeURIComponent(e[o]));a="?"+a}n.get("http://"+r.apiUrl+"/api/"+a,t,i)},switchScenes:function(e){console.log("Switching to %s",e)},updateScenes:function(){this.api(null,function(e){var r=n.parseXML(e).inputs,i=document.createElement("a"),a=0;i.setAttribute("href","#"),i.addEventListener("click",function(e){e.preventDefault(),console.dir(this)}),t.clear();for(var o in r){var s=r[o],c=i.cloneNode(!1);c.setAttribute("data-id",s.key),c.innerText=s.title,t.append(c),a++}n.addPlaceholders(a)},function(){console.error("[Switcher]","Unable to update vMix scenes!")})},init:function(){var e=function(){r.updateScenes(),setTimeout(e,1e3)};e()}};r.init()}(window);